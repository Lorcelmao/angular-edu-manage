<div class="school-form">
  <div class="header-section">
    <h2>{{ pageTitle }}</h2>
    <p-button icon="pi pi-arrow-left" 
              label="Quay lại" 
              styleClass="p-button-text"
              (onClick)="goBack()">
    </p-button>
  </div>

  <p-card>
    <form [formGroup]="schoolForm" (ngSubmit)="onSubmit()">
      <div class="form-grid">
        <div class="form-field">
          <label for="schoolName">Tên trường học <span class="required">*</span></label>
          <input type="text" 
                 id="schoolName"
                 pInputText 
                 formControlName="schoolName"
                 placeholder="Nhập tên trường học"
                 [class.ng-invalid]="isFieldInvalid('schoolName')">
          <small class="p-error" *ngIf="isFieldInvalid('schoolName')">
            {{ getFieldError('schoolName') }}
          </small>
        </div>

        <div class="form-field">
          <label for="schoolAddress">Địa chỉ <span class="required">*</span></label>
          <textarea id="schoolAddress"
                    pInputTextarea 
                    formControlName="schoolAddress"
                    placeholder="Nhập địa chỉ trường học"
                    rows="3"
                    [class.ng-invalid]="isFieldInvalid('schoolAddress')">
          </textarea>
          <small class="p-error" *ngIf="isFieldInvalid('schoolAddress')">
            {{ getFieldError('schoolAddress') }}
          </small>
        </div>

        <div class="form-field" *ngIf="isEditMode">
          <label for="schoolCode">Mã trường</label>
          <input type="text" 
                 id="schoolCode"
                 pInputText 
                 formControlName="schoolCode"
                 placeholder="Mã trường học">
          <small class="field-help">Mã trường được tạo tự động khi thêm mới</small>
        </div>

        <div class="form-field" *ngIf="isViewMode">
          <label for="schoolCodeView">Mã trường</label>
          <input type="text" 
                 id="schoolCodeView"
                 pInputText 
                 formControlName="schoolCode"
                 readonly>
        </div>
      </div>

      <div class="form-actions" *ngIf="!isViewMode">
        <p-button type="button" 
                  label="Hủy" 
                  styleClass="p-button-text"
                  (onClick)="goBack()">
        </p-button>
        <p-button type="submit" 
                  [label]="isEditMode ? 'Cập nhật' : 'Thêm mới'"
                  [loading]="loading"
                  styleClass="p-button-success">
        </p-button>
      </div>
    </form>
  </p-card>
</div>

<!-- <p-toast></p-toast> -->