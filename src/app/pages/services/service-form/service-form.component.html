<div class="service-form">
  <div class="header-section">
    <h2><i class="pi pi-cog mr-2"></i>{{ pageTitle }}</h2>
    <p-button icon="pi pi-arrow-left" 
              label="Quay lại" 
              styleClass="p-button-text"
              (onClick)="goBack()">
    </p-button>
  </div>

  <p-card styleClass="form-card">
    <form [formGroup]="serviceForm" (ngSubmit)="onSubmit()">
      <div class="form-grid">
        <div class="form-field">
          <label for="tenDichVu">Tên dịch vụ <span class="required">*</span></label>
          <span class="p-input-icon-left w-full">
            <i class="pi pi-tag"></i>
            <input type="text" 
                  id="tenDichVu"
                  pInputText 
                  formControlName="tenDichVu"
                  placeholder="Nhập tên dịch vụ"
                  class="w-full"
                  [class.ng-invalid]="isFieldInvalid('tenDichVu')">
          </span>
          <small class="p-error" *ngIf="isFieldInvalid('tenDichVu')">
            {{ getFieldError('tenDichVu') }}
          </small>
        </div>

        <div class="form-field">
          <label for="moTa">Mô tả <span class="required">*</span></label>
          <textarea id="moTa"
                    pInputTextarea 
                    formControlName="moTa"
                    placeholder="Nhập mô tả chi tiết về dịch vụ"
                    rows="4"
                    class="w-full"
                    [class.ng-invalid]="isFieldInvalid('moTa')">
          </textarea>
          <small class="p-error" *ngIf="isFieldInvalid('moTa')">
            {{ getFieldError('moTa') }}
          </small>
        </div>

        <div class="price-and-time">
          <div class="form-field">
            <label for="giaTien">Giá dịch vụ <span class="required">*</span></label>
            <span class="p-input-icon-left w-full">
              <i class="pi pi-wallet"></i>
              <input type="number" 
                    id="giaTien"
                    pInputText
                    formControlName="giaTien"
                    placeholder="Nhập giá dịch vụ"
                    class="w-full"
                    [class.ng-invalid]="isFieldInvalid('giaTien')">
            </span>
            <small class="field-help">Đơn vị: VNĐ</small>
            <small class="p-error" *ngIf="isFieldInvalid('giaTien')">
              {{ getFieldError('giaTien') }}
            </small>
          </div>

          <div class="form-field">
            <label for="deliveryTime">Thời gian thực hiện <span class="required">*</span></label>
            <span class="p-input-icon-left w-full">
              <i class="pi pi-calendar-times"></i>
              <input type="number" 
                    id="deliveryTime"
                    pInputText
                    formControlName="deliveryTime"
                    placeholder="Nhập số ngày"
                    class="w-full"
                    min="1"
                    [class.ng-invalid]="isFieldInvalid('deliveryTime')">
            </span>
            <small class="field-help">Đơn vị: ngày</small>
            <small class="p-error" *ngIf="isFieldInvalid('deliveryTime')">
              {{ getFieldError('deliveryTime') }}
            </small>
          </div>
        </div>
      </div>

      <div class="divider"></div>

      <div class="form-actions" *ngIf="!isViewMode">
        <p-button type="button" 
                  label="Hủy" 
                  icon="pi pi-times"
                  styleClass="p-button-text"
                  (onClick)="goBack()">
        </p-button>
        <p-button type="submit" 
                  [label]="isEditMode ? 'Cập nhật' : 'Thêm mới'"
                  [icon]="isEditMode ? 'pi pi-save' : 'pi pi-plus'"
                  [loading]="loading"
                  styleClass="p-button-success">
        </p-button>
      </div>
    </form>
  </p-card>
</div>